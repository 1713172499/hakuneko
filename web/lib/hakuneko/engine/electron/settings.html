<link rel="import" href="../base/settings.html">
<link rel="import" href="../base/enums.html">

<script>

    /**
     *
     */
    class SettingsElectron extends SettingsBase {

        /**
         * Declare settings unique to the electron engine
         */
        constructor() {
            super();
            let app = require( 'electron' ).remote.app;
            let path = require( 'path' );
            let docs = undefined;
            try {
                // on some circumstances the documents directory might not be found by electron
                docs = app.getPath( 'documents' );
            } catch ( e ) {
                docs = '.';
            }
            this.useGoogleDataSaver = {
                label: 'Google Data Saver (Proxy)',
                description: 'Use the Google Data Saver Proxy (only for http protocol)',
                input: Input.checkbox,
                value: false
            };
            this.socketConnections = {
                label: 'Host Connections',
                description: 'The maximum number of concurrent connections to a host (use lesser connections for slow internet/servers)',
                input: Input.numeric,
                min: 1,
                max: 32,
                value: 4
            };
            this.baseDirectory = {
                label: 'Manga Directory',
                description: 'The base directory where all downloaded mangas will be stored',
                input: Input.directory,
                value: path.join( docs, 'Mangas' )
            };
            this.useSubdirectory = {
                label: 'Use Sub-Directories',
                description: 'Create sub-directories for each connector (e.g. "/manga/kissmanga/...")',
                input: Input.checkbox,
                value: false
            };
            this.chapterFormat = {
                label: 'Chapter File Format',
                description: 'Store chapters in the selected file format',
                input: Input.select,
                options: [
                    { value: ChapterFormat.img, name: 'Folder with Images (*.jpg, *.png)' },
                    { value: ChapterFormat.cbz, name: 'Comic Book Archive (*.cbz)' },
                    { value: ChapterFormat.pdf, name: 'Portable Document (*.pdf)' },
                    { value: ChapterFormat.epub, name: 'Ebook Reader (*.epub)' },
                ],
                value: ChapterFormat.img
            };
            this.downloadHistoryLogFormat = {
                label: 'Download History Format',
                description: 'Log the history of completed chapter downloads\nThe log file(s) can be found in HakuNeko\'s user data directory',
                input: Input.select,
                options: [
                    { value: HistoryFormat.none, name: 'Disabled' },
                    //{ value: HistoryFormat.json, name: 'JSON (*.json)' },
                    //{ value: HistoryFormat.csv, name: 'CSV (*.csv)' },
                ],
                value: HistoryFormat.none
            };
        }
    }

</script>